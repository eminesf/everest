import{j as c}from"./jsx-runtime-DiklIkkE.js";import{R as M,r as b}from"./index-DRjF_FHU.js";import{G,B as v}from"./iconBase-J3hxGK-L.js";import{a as V,L as ee}from"./index-U-vexvmH.js";import{M as te}from"./index-BpswPAAr.js";import{I as ne}from"./index-BpkDEiVP.js";import"./index-Dxv8RC9i.js";import"./index-CoPTDhL4.js";function W(e){return G({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 0h-12c-1.1 0-2 0.9-2 2v12c0 1.1 0.9 2 2 2h12c1.1 0 2-0.9 2-2v-12c0-1.1-0.9-2-2-2zM7 12.414l-3.707-3.707 1.414-1.414 2.293 2.293 4.793-4.793 1.414 1.414-6.207 6.207z"},child:[]}]})(e)}function $(e){return G({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 0h-12c-1.1 0-2 0.9-2 2v12c0 1.1 0.9 2 2 2h12c1.1 0 2-0.9 2-2v-12c0-1.1-0.9-2-2-2zM14 14h-12v-12h12v12z"},child:[]}]})(e)}const _=e=>e.toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),O=e=>{let t;const n=new Set,r=(l,y)=>{const f=typeof l=="function"?l(t):l;if(!Object.is(f,t)){const k=t;t=y??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,k))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>m,subscribe:l=>(n.add(l),()=>n.delete(l))},m=t=e(r,s,u);return u},oe=e=>e?O(e):O,re=e=>e;function se(e,t=re){const n=M.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return M.useDebugValue(n),n}const B=e=>{const t=oe(e),n=r=>se(t,r);return Object.assign(n,t),n},ce=e=>e?B(e):B;function ie(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const d=m=>m===null?null:JSON.parse(m,void 0),u=(o=n.getItem(s))!=null?o:null;return u instanceof Promise?u.then(d):d(u)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const N=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return N(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return N(r)(n)}}}},de=(e,t)=>(n,r,s)=>{let o={storage:ie(()=>localStorage),partialize:i=>i,version:0,merge:(i,T)=>({...T,...i}),...t},d=!1;const u=new Set,m=new Set;let l=o.storage;if(!l)return e((...i)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...i)},r,s);const y=()=>{const i=o.partialize({...r()});return l.setItem(o.name,{state:i,version:o.version})},f=s.setState;s.setState=(i,T)=>{f(i,T),y()};const k=e((...i)=>{n(...i),y()},r,s);s.getInitialState=()=>k;let g;const U=()=>{var i,T;if(!l)return;d=!1,u.forEach(h=>{var p;return h((p=r())!=null?p:k)});const C=((T=o.onRehydrateStorage)==null?void 0:T.call(o,(i=r())!=null?i:k))||void 0;return N(l.getItem.bind(l))(o.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==o.version){if(o.migrate){const p=o.migrate(h.state,h.version);return p instanceof Promise?p.then(S=>[!0,S]):[!0,p]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var p;const[S,Y]=h;if(g=o.merge(Y,(p=r())!=null?p:k),n(g,!0),S)return y()}).then(()=>{C==null||C(g,void 0),g=r(),d=!0,m.forEach(h=>h(g))}).catch(h=>{C==null||C(void 0,h)})};return s.persist={setOptions:i=>{o={...o,...i},i.storage&&(l=i.storage)},clearStorage:()=>{l==null||l.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>U(),hasHydrated:()=>d,onHydrate:i=>(u.add(i),()=>{u.delete(i)}),onFinishHydration:i=>(m.add(i),()=>{m.delete(i)})},o.skipHydration||U(),g||k},ae=de,a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function ue(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}let w;const le=new Uint8Array(16);function me(){if(!w){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");w=crypto.getRandomValues.bind(crypto)}return w(le)}const he=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),E={randomUUID:he};function pe(e,t,n){var s;if(E.randomUUID&&!e)return E.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??me();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ue(r)}const A=ce()(ae(e=>({toDos:[],setToDos:t=>e({toDos:t.sort((n,r)=>n.checked===r.checked?new Date(r.createdAt).getTime()-new Date(n.createdAt).getTime():Number(n.checked)-Number(r.checked))}),createToDo:t=>e(n=>{const r={id:pe(),content:t,checked:!1,createdAt:_(new Date)};return{toDos:[...n.toDos,r].sort((o,d)=>o.checked===d.checked?new Date(d.createdAt).getTime()-new Date(o.createdAt).getTime():Number(o.checked)-Number(d.checked))}}),removeToDo:t=>e(n=>({toDos:n.toDos.filter(s=>s.id!==t).sort((s,o)=>s.checked===o.checked?new Date(o.createdAt).getTime()-new Date(s.createdAt).getTime():Number(s.checked)-Number(o.checked))})),toggleToDo:t=>e(n=>({toDos:n.toDos.map(s=>s.id===t?{...s,checked:!s.checked,finishedAt:_(new Date)}:s).sort((s,o)=>s.checked===o.checked?new Date(o.createdAt).getTime()-new Date(s.createdAt).getTime():Number(s.checked)-Number(o.checked))})),updateToDo:(t,n)=>e(r=>({toDos:r.toDos.map(o=>o.id===t?{...o,...n}:o).sort((o,d)=>o.checked===d.checked?new Date(d.createdAt).getTime()-new Date(o.createdAt).getTime():Number(o.checked)-Number(d.checked))})),sortToDos:()=>e(t=>({toDos:t.toDos.sort((n,r)=>n.checked===r.checked?new Date(r.createdAt).getTime()-new Date(n.createdAt).getTime():Number(n.checked)-Number(r.checked))}))}),{name:"todo-storage"})),K=({todo:e,onClose:t})=>{const{removeToDo:n}=A();return c.jsxs("div",{className:"modal",children:[c.jsx("p",{children:"Are you sure you want to delete:"}),c.jsx(j,{withButton:!1,todo:e}),c.jsxs("div",{className:"modal-actions",children:[c.jsx(v,{variant:"default",onClick:t,children:"Cancel"}),c.jsx(v,{variant:"delete",onClick:()=>{n(e.id),t()},icon:V,children:"Delete"})]})]})};K.__docgenInfo={description:"",methods:[],displayName:"DeleteModalContent",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},todo:{required:!0,tsType:{name:"ToDo"},description:""}}};const Q=({todo:e,onClose:t})=>{const[n,r]=b.useState(e.content),[s,o]=b.useState(e.checked),d=()=>{u(e.id,{...e,content:n,checked:s}),t()},{updateToDo:u}=A();return c.jsxs("div",{className:"modal",children:[c.jsx("p",{children:"Edit:"}),c.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",width:"100%"},children:[c.jsx(ne,{type:"default",value:n,placeholder:"Edit",onChange:m=>r(m),validate:!0,onButtonClick:d}),c.jsx(v,{size:"md",variant:"confirm",icon:s?W:$,onClick:()=>o(!s)})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx(v,{variant:"default",onClick:t,children:"Cancel"}),c.jsx(v,{variant:"confirm",onClick:d,disabled:!n.trim(),children:"Update"})]})]})};Q.__docgenInfo={description:"",methods:[],displayName:"EditModalContent",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},todo:{required:!0,tsType:{name:"ToDo"},description:""}}};const j=({todo:e,withButton:t=!0})=>{const[n,r]=b.useState(!1),[s,o]=b.useState("delete"),{toggleToDo:d}=A(),u=()=>r(!0),m=()=>r(!1);return c.jsxs("div",{className:"todo-item_container",children:[c.jsx(te,{isOpen:n,onClose:m,children:s==="delete"?c.jsx(K,{todo:e,isOpen:n,onClose:m}):c.jsx(Q,{todo:e,isOpen:n,onClose:m})}),c.jsxs("div",{className:"todo-item",children:[c.jsx("span",{className:"todo-item_content",style:{textDecoration:e.checked?"line-through":"none"},children:e.content})," ",c.jsxs("div",{children:[c.jsxs("span",{className:"created-finished",children:["Created at ",e.createdAt]}),c.jsx("span",{className:"created-finished",children:e.finishedAt&&e.checked?` | finished at ${e.finishedAt}`:""})]})]}),t?c.jsxs("div",{className:"todo-item__actions",children:[c.jsx(v,{size:"sm",variant:"confirm",ariaLabel:"confirm",icon:e.checked?W:$,onClick:()=>d(e.id)}),c.jsx(v,{size:"sm",variant:"delete",icon:V,ariaLabel:"delete",onClick:()=>{o("delete"),u()}}),c.jsx(v,{size:"sm",variant:"default",icon:ee,ariaLabel:"edit",onClick:()=>{o("edit"),u()}})]}):null]})};j.__docgenInfo={description:"",methods:[],displayName:"TodoItem",props:{todo:{required:!0,tsType:{name:"ToDo"},description:""},withButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};const ge={id:1,content:"test todo mock",checked:!0,createdAt:"2023-10-01T00:00:00Z",finishedAt:"2023-10-01T00:00:00Z"},ve={id:1,content:"test todo mock",checked:!1,createdAt:"2023-10-01T00:00:00Z",finishedAt:"2023-10-01T00:00:00Z"},be={title:"components/TodoItem",component:j,argTypes:{}},fe=e=>c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",padding:"0 20px",backgroundColor:"#242424"},children:c.jsx(j,{todo:ge,...e})}),x=fe.bind({});x.args={withButton:!0};const X=e=>c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",padding:"0 20px",backgroundColor:"#242424"},children:c.jsx(j,{todo:ve,...e})}),D=X.bind({}),I=X.bind({});D.args={withButton:!0};I.args={withButton:!1};var R,L,q;x.parameters={...x.parameters,docs:{...(R=x.parameters)==null?void 0:R.docs,source:{originalSource:`args => {
  return <div style={{
    display: "flex",
    justifyContent: "center",
    alignItems: "center",
    height: "100vh",
    padding: "0 20px",
    backgroundColor: "#242424"
  }}>\r
      <TodoItem todo={todoMockChecked} {...args} />\r
    </div>;
}`,...(q=(L=x.parameters)==null?void 0:L.docs)==null?void 0:q.source}}};var H,z,P;D.parameters={...D.parameters,docs:{...(H=D.parameters)==null?void 0:H.docs,source:{originalSource:`args => {
  return <div style={{
    display: "flex",
    justifyContent: "center",
    alignItems: "center",
    height: "100vh",
    padding: "0 20px",
    backgroundColor: "#242424"
  }}>\r
      <TodoItem todo={todoMockUnchecked} {...args} />\r
    </div>;
}`,...(P=(z=D.parameters)==null?void 0:z.docs)==null?void 0:P.source}}};var F,Z,J;I.parameters={...I.parameters,docs:{...(F=I.parameters)==null?void 0:F.docs,source:{originalSource:`args => {
  return <div style={{
    display: "flex",
    justifyContent: "center",
    alignItems: "center",
    height: "100vh",
    padding: "0 20px",
    backgroundColor: "#242424"
  }}>\r
      <TodoItem todo={todoMockUnchecked} {...args} />\r
    </div>;
}`,...(J=(Z=I.parameters)==null?void 0:Z.docs)==null?void 0:J.source}}};const Se=["TodoChecked","TodoUnchecked","TodoUncheckedWithoutButton"];export{x as TodoChecked,D as TodoUnchecked,I as TodoUncheckedWithoutButton,Se as __namedExportsOrder,be as default};
